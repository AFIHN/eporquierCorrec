@{
    ViewData["Title"] = "Opinions";
    var opinionList = ViewBag.opinionList as List<TPLOCAL1.Models.Opinion>;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Liste des avis</title>
    <link rel="stylesheet" href="~/resources/index.css" />
    <link rel="stylesheet" href="~/resources/Avis.css" />
</head>
<body>
    <img src="~/resources/GroupeHN.png" class="image" alt="GroupeHN" />
    <header>
        <h1>Liste des avis</h1>
    </header>
    <br />
    <nav>
        <ul>
            <li><a href="/Home/Index/Index">Accueil</a></li>
            <li><a href="/Home/Index/Form">Remplir le formulaire</a></li>
        </ul>
    </nav>

    <section>

        @if (opinionList != null && opinionList.Any())
        {
                <table class="table">
                    <thead>
                            <th colspan="3" align="center">Liste</th>
                    </thead>
                            <tr>
                                <td>Nom</td>
                                <td>Prénom</td>
                                <td>Avis</td>
                            </tr>
                    <tbody>
                    @foreach (var opinion in opinionList)
                    {
                                <tr>
                                    <td>@opinion.LastName</td>
                                    <td>@opinion.FirstName</td>
                                    <td class="@(opinion.OpinionGiven == "O" ? "opinion-oui" : "opinion-non")">@opinion.OpinionGiven</td>
                                </tr>
                    }
                    </tbody>
                </table>
        }
        else
        {
                <p>No opinions found.</p>
        }
    </section>
</body>
</html>